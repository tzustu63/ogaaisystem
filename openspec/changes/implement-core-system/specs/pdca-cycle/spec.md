## ADDED Requirements

### Requirement: Plan 階段管理
系統 SHALL 管理 PDCA 循環的 Plan 階段，包括關聯至 Initiative 或 OKR、設定檢核點與頻率、指定負責人與數據來源。

#### Scenario: 建立 Plan
- **WHEN** 使用者建立 PDCA Plan
- **THEN** 系統要求關聯至 Initiative 或 OKR
- **AND** 系統要求設定檢核點與頻率（每週/每月/每季）
- **AND** 系統要求指定負責人與數據來源

#### Scenario: 設定檢核頻率
- **WHEN** 使用者設定檢核頻率
- **THEN** 系統提供選項：每週/每月/每季/自訂
- **AND** 系統根據頻率自動排程檢核提醒

### Requirement: Do 階段執行
系統 SHALL 在 Kanban 中執行 Do 階段，支援證據附件上傳與進度自動回寫。

#### Scenario: 執行任務
- **WHEN** 使用者在 Kanban 中執行 PDCA 相關任務
- **THEN** 系統允許上傳證據附件
- **AND** 系統自動更新 PDCA 進度
- **AND** 系統記錄執行時間與執行人

### Requirement: Check 階段自動回報
系統 SHALL 依設定頻率自動抓取名單並發送檢核提醒，支援未回報時自動升級通知。

#### Scenario: 自動排程檢核
- **WHEN** 到達檢核時間點
- **THEN** 系統自動抓取需檢核的負責人名單
- **AND** 系統發送檢核提醒給負責人
- **AND** 系統記錄提醒發送時間

#### Scenario: 未回報升級
- **WHEN** 負責人未在期限內回報
- **THEN** 系統自動發送升級通知給上級
- **AND** 系統記錄升級時間與原因

### Requirement: 資料品質檢核
系統 SHALL 在每次回報時自動執行三項 DQ 檢核：完整性、準時性、一致性。

#### Scenario: 完整性檢核
- **WHEN** 使用者提交檢核回報
- **THEN** 系統檢查該填的欄位是否缺漏
- **AND** 系統標記缺漏欄位並要求補填
- **AND** 系統顯示檢核結果（通過/警告/失敗）

#### Scenario: 準時性檢核
- **WHEN** 系統執行準時性檢核
- **THEN** 系統檢查是否超過更新頻率
- **AND** 系統標記逾期未更新的資料
- **AND** 系統顯示準時性檢核結果

#### Scenario: 一致性檢核
- **WHEN** 系統執行一致性檢核
- **THEN** 系統比對同一實體在不同系統的資料
- **AND** 系統標記不一致的資料
- **AND** 系統要求人工確認或修正

#### Scenario: 檢核結果處理
- **WHEN** DQ 檢核完成
- **THEN** 系統顯示檢核結果：✓ 通過（綠燈）、⚠ 警告（黃燈）、✗ 失敗（紅燈）
- **AND** 系統在失敗時阻擋該筆資料進入系統
- **AND** 系統在警告時要求人工確認

### Requirement: 差異分析
系統 SHALL 自動比對「計畫值 vs 實際值」，並在偏離超過設定閾值時強制要求填寫原因。

#### Scenario: 自動比對
- **WHEN** 實際值更新
- **THEN** 系統自動比對計畫值與實際值
- **AND** 系統計算偏離百分比
- **AND** 系統顯示比對結果

#### Scenario: 偏離處理
- **WHEN** 偏離超過設定閾值
- **THEN** 系統強制要求填寫偏離原因
- **AND** 系統要求選擇 Root Cause（人力/流程/系統/外部政策/合作方）
- **AND** 系統記錄偏離分析結果

### Requirement: Act 階段改善對策
系統 SHALL 提供結構化的改善對策管理，包括 Root Cause、對策類型、具體行動、預期影響 KPI、完成驗收方式、負責人、預計完成日。

#### Scenario: 建立改善對策
- **WHEN** 使用者在 Act 階段建立改善對策
- **THEN** 系統要求選擇 Root Cause（下拉選單）
- **AND** 系統要求選擇對策類型（補救/預防）
- **AND** 系統要求填寫具體行動（可直接轉為 Kanban 任務）
- **AND** 系統要求標記預期影響的 KPI
- **AND** 系統要求填寫完成驗收方式、負責人、預計完成日

#### Scenario: 轉為任務
- **WHEN** 使用者將改善行動轉為 Kanban 任務
- **THEN** 系統自動建立對應的任務卡片
- **AND** 系統自動關聯到對應的 Initiative 或 OKR
- **AND** 系統標記任務為「改善行動」

#### Scenario: 追蹤改善效果
- **WHEN** 改善行動完成
- **THEN** 系統允許記錄對 KPI 的實際影響
- **AND** 系統更新改善追蹤儀表板
- **AND** 系統依 Root Cause 分類統計（找出系統性問題）

### Requirement: 改善追蹤儀表板
系統 SHALL 提供改善追蹤儀表板，顯示所有進行中的改善行動，依 Root Cause 分類統計，追蹤改善行動對 KPI 的實際影響。

#### Scenario: 查看改善儀表板
- **WHEN** 使用者查看改善追蹤儀表板
- **THEN** 系統顯示所有進行中的改善行動
- **AND** 系統依 Root Cause 分類統計
- **AND** 系統顯示改善行動對 KPI 的實際影響
- **AND** 系統支援依 Root Cause、對策類型、負責人篩選

